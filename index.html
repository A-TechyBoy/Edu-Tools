<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>ATB's School Tools</title>
		<style>
			@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300&family=Walter+Turncoat&display=swap");

			html,
			body {
				margin: 0;
				padding: 0;
				height: 100vh;
				overflow: hidden;
			}

			body {
				padding: 10px; /* Reduced padding */
				background-color: #101010;
				color: aliceblue;
				font-family: "Space Grotesk", serif;
				font-optical-sizing: auto;
				font-weight: 400;
				font-style: normal;
				display: flex;
				flex-direction: column;
				overflow: hidden;
			}

			.BodyTimeMode {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				flex: 1;
			}

			.BodyTimeMode h1 {
				font-size: 16rem;
				margin: 0;
			}

			.BodyTimeMode h2 {
				font-size: 5rem;
				margin: 0;
			}

			#navBar {
				display: flex;
				align-items: center;
				margin-bottom: 10px;
			}

			#root {
				flex: 1;
				margin-bottom: 10px; /* Add margin to prevent cutoff */
			}

			hr {
				margin: 10px 0;
			}

			#navBar {
				display: flex;
				align-items: center;
			}
			select {
				background-color: #101010;
				color: aliceblue;
				font-family: "Walter Turncoat", serif;
				font-size: 20px;
				border: 4px solid rgb(255, 176, 131);
				border-radius: 20px;
				padding: 5px;
			}

			select:focus {
				outline: none;
			}

			.canvas-container {
				position: relative;
				width: 100%;
				height: 100%;
			}
			#drawingCanvas {
				border: 1px solid #333;
				background: white;
			}
			.tools {
				position: absolute;
				top: 10px;
				left: 10px;
				background: rgba(0, 0, 0, 0.7);
				padding: 10px;
				border-radius: 5px;
			}
			.color-picker {
				width: 50px;
			}
			.tools button {
				background: #333;
				color: white;
				border: none;
				padding: 5px 10px;
				border-radius: 3px;
				margin: 0 5px;
				cursor: pointer;
			}
			.tools button.active {
				background: rgb(255, 176, 131);
				color: black;
			}

			/* Add calculator container style */
			#calculator {
				width: 100%;
				height: 100%;
				min-height: 400px;
			}
		</style>
		<script src="https://www.desmos.com/api/v1.10/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
		<script src="https://www.desmos.com/api/v1.10/3d.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
		<script src="https://www.desmos.com/api/v1.10/scientific.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
		<script src="https://www.desmos.com/api/v1.10/fourfunction.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
		<script src="https://unpkg.com/easydraw-package/dist/easydraw.browser.js"></script>
	</head>
	<body>
		<div id="navBar">
			<select onchange="NewTool();" id="WhatToolDoYouWantToUse">
				<option>White Bord</option>
				<option>Time</option>
				<option>Calc and Graph</option>
			</select>

			<p>&nbsp;&nbsp; --- &nbsp;&nbsp;</p>
			<div id="options"></div>
		</div>
		<hr />
		<div id="root"></div>
		<script>
			var whattool = document.getElementById("WhatToolDoYouWantToUse");
			var options = document.getElementById("options");
			var root = document.getElementById("root");
			var ModeCurrunt;
			const backgrounds = {
				Blank: "",
				"World Map":
					"https://cloud-j5gnh7ftf-hack-club-bot.vercel.app/0image.png",
				"Political Map Of India":
					"https://cloud-nvulyyvhh-hack-club-bot.vercel.app/0image.png",
				"Outline Map Of India":
					"https://cloud-f745p5pob-hack-club-bot.vercel.app/0image.png",
			};

			function UpdateDateANdTime() {
				var date = new Date();
				root.innerHTML = `
					<h2>${date.toDateString()}<h2>
					<h1>${date.toLocaleTimeString()}</h1>
				`;
			}

			function updateGraphType() {
				const graphType = document.getElementById("graphOptions").value;
				root.innerHTML = '<div id="calculator"></div>';
				const elt = document.getElementById("calculator");

				switch (graphType) {
					case "2D Graphing":
						return Desmos.GraphingCalculator(elt);
					case "3D Graphing":
						return Desmos.Calculator3D(elt);
					case "Scientific":
						return Desmos.ScientificCalculator(elt);
					case "Four Function":
						return Desmos.FourFunctionCalculator(elt);
				}
			}

			function NewTool() {
				clearInterval(ModeCurrunt);
				switch (whattool.value) {
					case "White Bord":
						options.innerHTML = `
							<select onchange="displayCanvas('#root', backgrounds[document.getElementById('WhiteBordOptions').value]);" id="WhiteBordOptions">
								<option>Blank</option>
								<option>Political Map Of India</option>
								<option>Outline Map Of India</option>
								<option>World Map</option>
							</select>
						`;
						displayCanvas(
							"#root",
							backgrounds[
								document.getElementById("WhiteBordOptions")
									.value
							]
						);
						break;

					case "Time":
						document.getElementById("root").className =
							"BodyTimeMode";
						options.innerHTML = ``;
						root.innerHTML = `
						<h2>Date<h2>
						<h1>Time</h1>
						`;
						UpdateDateANdTime();
						ModeCurrunt = setInterval(UpdateDateANdTime, 1000); // Assign to global variable
						break;

					case "Calc and Graph":
						options.innerHTML = `
							<select onchange="updateGraphType();" id="graphOptions">
								<option>2D Graphing</option>
								<option>3D Graphing</option>
								<option>Scientific</option>
								<option>Four Function</option>
							</select>
						`;
						updateGraphType();
						break;
				}
			}

			NewTool();
		</script>
	</body>
</html>
